"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
var chalk_1 = __importDefault(require("chalk"));
var update_notifier_1 = __importDefault(require("update-notifier"));
function test(pkg) {
    var notifier = update_notifier_1.default({
        pkg: pkg,
        updateCheckInterval: 1000 * 60 * 60 * 24,
        shouldNotifyInNpmScript: true
    });
    var update = notifier.update;
    if (!update) {
        return;
    }
    var message = "\u66F4\u65B0\u63D0\u9192(Update available)! " + chalk_1.default.red(update.current) + " \u2192 " + chalk_1.default.green(update.latest) + "\n  \n  Run " + chalk_1.default.magenta("{updateCommand}@latest") + " to update!\n\n  \u5B98\u7F51(Website): " + chalk_1.default.cyan('https://www.omnidoor.org/') + "\n\n  \u53D8\u66F4\u65E5\u5FD7(Changelog): https://github.com/omni-door/cli/blob/master/docs/CHANGELOG.md";
    notifier.notify({ message: message });
}
exports.default = test;
