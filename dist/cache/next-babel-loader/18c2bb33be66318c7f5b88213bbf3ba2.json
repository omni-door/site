{"ast":null,"code":"// The route base on next-url-prettifier\n// https://github.com/BDav24/next-url-prettifier\n// Client Usage: https://github.com/BDav24/next-url-prettifier#in-your-components\nconst UrlPrettifier = require('next-url-prettifier').default;\n\nclass NextUrlRouter extends UrlPrettifier {\n  constructor(routes, options = {}) {\n    super(routes, options);\n    this.root = options.root || '';\n    this.linkPage = this.linkPage.bind(this);\n    this.forEachPattern = this.forEachPattern.bind(this);\n  }\n\n  linkPage(pageName, params) {\n    const route = this.routes.find(currentRoute => currentRoute.page === pageName);\n    const obj = {\n      as: '',\n      href: `/${pageName}${this.paramsToQueryString(params)}`\n    };\n\n    if (route && route.prettyUrl) {\n      obj.as = this.root + (typeof route.prettyUrl === 'string' ? route.prettyUrl : route.prettyUrl(params));\n    }\n\n    return obj;\n  }\n\n  forEachPattern(apply) {\n    this.routes.forEach(route => {\n      this.getPrettyUrlPatterns(route).forEach(prettyPattern => apply({\n        page: route.page,\n        beforeRender: route.beforeRender,\n        pattern: this.root + prettyPattern.pattern,\n        defaultParams: prettyPattern.defaultParams\n      }));\n    });\n  }\n\n}\n\nconst routes = [{\n  page: 'home',\n  prettyUrl: ({\n    lang\n  }) => `/${lang}/home`,\n  prettyUrlPatterns: [{\n    pattern: '/'\n  }, {\n    pattern: '/home'\n  }, {\n    pattern: '/:lang/home'\n  }]\n}, {\n  page: 'start',\n  prettyUrl: ({\n    lang,\n    step = ''\n  }) => `/${lang}/start/${step}`,\n  prettyUrlPatterns: [{\n    pattern: '/start'\n  }, {\n    pattern: '/start/:step'\n  }, {\n    pattern: '/:lang/start'\n  }, {\n    pattern: '/:lang/start/:step'\n  }]\n}, {\n  page: 'docs',\n  prettyUrl: ({\n    lang,\n    article = ''\n  }) => `/${lang}/docs/${article}`,\n  prettyUrlPatterns: [{\n    pattern: '/docs'\n  }, {\n    pattern: '/docs/:article'\n  }, {\n    pattern: '/:lang/docs'\n  }, {\n    pattern: '/:lang/docs/:article'\n  }]\n}];\nconst nextRouter = new NextUrlRouter(routes);\nmodule.exports = {\n  nextRouter,\n  routes\n};","map":null,"metadata":{},"sourceType":"script"}